---
title: 记录此博客搭建过程
date: 2021-09-20 14:15:03
tags:
---

# 搭建步骤

## node.js

1. 前往 [Node.js (nodejs.org)](https://nodejs.org/en/) 下载 node.js

2. 设置国内镜像源 `npm config set registry [https://registry.npm.taobao.org](https://registry.npm.taobao.org)`

## git & github

1. 安装、配置git

2. github创建博客仓库，博客名称带`.github.io` 后缀

![](image.png)

3. 进入`Settings` 找到GitHub Pages，配置主题

![](image_1.png)

4. 配置完成后，将获取到页面[https://johnson-zs.github.io/zhangsheng.github.io/](https://johnson-zs.github.io/zhangsheng.github.io/)

![](image_2.png)

## Hexo

1. 创建一个空文件夹（/Users/zhangs/Documents/blog）用来存放自己的博客文件，进入它

2. 使用命令`sudo npm i hexo-cli -g`安装hexo，使用`hexo -v` 验证是否安装成功

3. 初始化我们的网站，输入`hexo init`初始化文件夹，接着输入`npm install`安装必备的组件

4. 输入`hexo g`生成静态网页，然后输入`hexo s`打开本地服务器，然后浏览器打开[http://localhost:4000/](https://link.zhihu.com/?target=http://localhost:4000/)，就可以看到我们的博客啦

![](image_3.png)

5. 打开博客根目录下的`_config.yml`文件，修改最后一行的配置（这是博客的配置文件，在这里你可以修改与博客相关的各种信息）

```Bash
 deploy:
   type: git
   repository: git@github.com:Johnson-zs/zhangsheng.github.io.git
   branch: master
```

# 发表文章

1. 首先需要安装一个扩展`npm i hexo-deployer-git`

2. 输入`hexo new post "article title"`，新建一篇文章，文章生成在`source\_posts` 目录下

3. 根目录下输入`hexo g`生成静态网页，然后输入`hexo s`可以本地预览效果

4. 最后输入`hexo d`上传到github上,这时打开你的github.io主页就能看到发布的文章了

在**source/_posts** 目录下创建markdown的文件，在创建之前可以配置创建文件的同时产生存放资源文件的目录，在配置文件中修改如下项 `post_asset_folder: true`

# 个性化

## 更换主题

1. 首先在[官网](https://hexo.io/themes/)去找到自己喜欢的主题，然后把它clone下来：

```Bash
$ git clone https://github.com/giscafer/hexo-theme-cafe.git themes/cafe
```


2. 对应主题目录下，同样有个_config.yml文件，可以对主题进行一些个性化的定制

3. 更换主题，修改根目录下的博客配置文件 _config.yml 主题属性 theme 为cafe

4. 最后重新生成博客 clean, g, s, d

## 基本配置

在博客目录中找到_config.yml文件进行配置，里面有非常多的配置，初次仅配置基本信息

```Bash
# Site
title: Fenpho  //网站标题
subtitle: //网站副标题
description://网站描述
author: fenpho//网站作者
language: zh-CN//语言
timezone://时区

# URL
and root as '/child/'
url: https://fenpho.github.io/ //网站链接
root: /  //网站根目录
permalink: :year/:month/:day/:title/ //时间格式
```


# 其他

## 备份博客源文件

有时候我们想换一台电脑继续写博客，这时候就可以将博客目录下的所有源文件都上传到github上面。

1. github博客仓库下新建一个分支`hexo`

2. `git clone`到本地，清理掉原内容

3. 把`.git`文件夹拿出来，放在博客根目录下

4. `git branch -b hexo`切换到`hexo`分支

5. `git add .`，然后`git commit -m "xxx"`，最后`git push origin hexo`提交

## 域名绑定

1. 购买域名

2. 添加解析

![](image_4.png)

![](image_5.png)

3. github setting 配置域名

![](image_6.png)

4. 项目根目录应该会出现一个名为`CNAME`的文件了。如果没有的话，打开你本地博客`/source`目录新建`CNAME`文件，注意没有后缀。然后在里面写上你的域名，保存。最后运行`hexo g`、`hexo d`上传到github

5. 等待DNS完成

## https

1. 申请SLL证书

2. 找一个免费的

![](image_7.png)

3. 申请证书，等待

![](image_8.png)

4. 最后就可以通过https访问博客了

![](image_9.png)

# 总结

```Bash
$ hexo clean //清除静态页面缓存（清除 public 文件夹)         
$ hexo g     //在本地生成静态页面（生成 public 文件夹）        
$ hexo s     //启动本地服务 http://localhost:4000，进行预览调试           
$ hexo d     //远程部署，同步到 GitHub         

$ npm install hexo-deployer-git --save    //自动部署
$ hexo clean && hexo g && hexo d          //发布
```


# 参考

[https://zhuanlan.zhihu.com/p/35668237](https://zhuanlan.zhihu.com/p/35668237)

[https://hexo.io/themes/](https://hexo.io/themes/)

[https://github.com/giscafer/hexo-theme-cafe.git](https://github.com/giscafer/hexo-theme-cafe.git)

[https://blog.csdn.net/weixin_46187747/article/details/104575042](https://blog.csdn.net/weixin_46187747/article/details/104575042) 

[hexo博客如何插入图片 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/265077468)
